{
    "name": "chefclient-sparkpad-liansuola-gp2gtdx-update1",
    "description": "Role json file for starting and maintaining Sparkpad Generic Platform season2 gtdx",
    "json_class": "Chef::Role",
    "default_attributes": {
        "deployuser": "ec2-user",
        "projectname": "sparkpadgp",
        "externalmode": "bootproxy",
        "domainname": "liansuola.com",
        "docker": {
            "privaterepo": "dockerpriv.kybot.io:5002",
            "username": "keithyau",
            "password": "thomas123"
        },
        "deploycode": {
            "basedirectory": "/home/ec2-user/tools/drupal_dir/",
            "configuration": {
                "drupal": {
                    "de": {
                        "folders": {
                            "sites/default/files": "777",
                            "sites/default/privates": "777"
                        },
                        "settings": {
                            "liansuola-de.settings.php": "sites/default/settings.php"
                        },
                        "variables": {
                            "dbhost": "sm12g5l9d32eyun.cjwa2zciaejp.rds.cn-north-1.amazonaws.com.cn",
                            "dbuser": "keithyau",
                            "dbpass": "thomas123",
                            "dbname": "gtdxde"
                        },
                        "oc": {
                            "folders": {
                                "sites/default/files": "777",
                                "sites/default/privates": "777"
                            },
                            "settings": {
                                "liansuola-oc.settings.php": "sites/default/settings.php"
                            },
                            "variables": {
                                "dbhost": "sm12g5l9d32eyun.cjwa2zciaejp.rds.cn-north-1.amazonaws.com.cn",
                                "dbuser": "keithyau",
                                "dbpass": "thomas123",
                                "dbname": "gtdxoc"
                            }
                        },
                        "erp": {
                            "folders": {
                                "sites/default/files": "777",
                                "sites/default/privates": "777"
                            },
                            "settings": {
                                "general.settings.php": "sites/default/settings.php"
                            },
                            "variables": {
                                "dbhost": "sm12g5l9d32eyun.cjwa2zciaejp.rds.cn-north-1.amazonaws.com.cn",
                                "dbuser": "keithyau",
                                "dbpass": "thomas123",
                                "dbname": "gtdxerp"
                            }
                        },
                        "pmt": {
                            "folders": {
                                "sites/default/files": "777",
                                "sites/default/privates": "777"
                            },
                            "settings": {
                                "general.settings.php": "sites/default/settings.php"
                            },
                            "variables": {
                                "dbhost": "sm12g5l9d32eyun.cjwa2zciaejp.rds.cn-north-1.amazonaws.com.cn",
                                "dbuser": "keithyau",
                                "dbpass": "thomas123",
                                "dbname": "gtdxpmt"
                            }
                        }
                    }
                },
                "localfolder": {
                    "de": {
                        "giturl": "git@gitlab.com:Sparkpad/gutian-de.git",
                        "branch": "master"
                    },
                    "erp": {
                        "giturl": "git@gitlab.com:Sparkpad/SparkPos-GP-Kindee.git",
                        "branch": "gp"
                    },
                    "pmt": {
                        "giturl": "git@git.coding.net:keithyau/sparkpad-drupal-backend-pmt.git",
                        "branch": "liansuola"
                    },
                    "oc": {
                        "giturl": "git@git.coding.net:keithyau/deploymentoc.git",
                        "branch": "master"
                    },
                    "tsoc": {
                        "giturl": "git@git.coding.net:keithyau/deploymenttsoc.git",
                        "branch": "master"
                    },
                    "orderserver": {
                        "giturl": "git@git.coding.net:shiyang1983/orderserver.git",
                        "branch": "master"
                    },
                    "wmserver": {
                        "giturl": "git@git.coding.net:shiyang1983/gtdx_wmserver.git",
                        "branch": "master"
                    },
                    "reportingsys": {
                        "giturl": "git@git.coding.net:chankongching/reports.git",
                        "branch": "liansuola"
                    },
                    "syncoc": {
                        "giturl": "git@git.coding.net:keithyau/syncoc.git",
                        "branch": "master"
                    },
                    "bootproxy": "nodownload"
                },
                "runtime": {
                    "de": {
                        "tag": "latest",
                        "image": "dockerpriv.kybot.io:5002/keithyau/drupalshanghaitime",
                        "mountlocal": "localdir",
                        "mountdocker": "/var/www/html",
                        "ports": "9081:80",
                        "customdomainsuffix": "gtdx"
                    },
                    "erp": {
                        "tag": "latest",
                        "image": "dockerpriv.kybot.io:5002/keithyau/drupalshanghaitime",
                        "mountlocal": "localdir",
                        "mountdocker": "/var/www/html",
                        "ports": "9082:80",
                        "customdomainsuffix": "gtdx"
                    },
                    "pmt": {
                        "tag": "latest",
                        "image": "dockerpriv.kybot.io:5002/keithyau/php7shanghaitime",
                        "mountlocal": "localdir",
                        "mountdocker": "/var/www/html",
                        "ports": "9084:80",
                        "customdomainsuffix": "gtdx"
                    },
                    "oc": {
                        "tag": "latest",
                        "image": "dockerpriv.kybot.io:5002/keithyau/tomcatsparkpadglusternewrelic",
                        "mountlocal": "multipledir",
                        "mountdocker": [
                            "/home/ec2-user/tools/drupal_dir/oc:/usr/local/tomcat/webapps",
                            "/etc/localtime:/etc/localtime:ro"
                        ],
                        "ports": "9086:8080",
                        "customdomainsuffix": "gtdx"
                    },
                    "tsoc": {
                        "tag": "latest",
                        "image": "dockerpriv.kybot.io:5002/keithyau/tomcatsparkpadglusternewrelic",
                        "mountlocal": "multipledir",
                        "mountdocker": [
                            "/home/ec2-user/tools/drupal_dir/tsoc:/usr/local/tomcat/webapps",
                            "/etc/localtime:/etc/localtime:ro"
                        ],
                        "ports": "9087:8080",
                        "customdomainsuffix": "gtdx"
                    },
                    "orderserver": {
                        "tag": "latest",
                        "image": "dockerpriv.kybot.io:5002/keithyau/tomcatsparkpadglusternewrelic",
                        "mountlocal": "multipledir",
                        "mountdocker": [
                            "/home/ec2-user/tools/drupal_dir/orderserver:/usr/local/tomcat/webapps/ROOT",
                            "/etc/localtime:/etc/localtime:ro"
                        ],
                        "ports": "9088:8080",
                        "customdomainsuffix": "gtdx"
                    },
                    "reportingsys": {
                        "tag": "latest",
                        "image": "dockerpriv.kybot.io:5002/keithyau/laravelnewrelic",
                        "mountlocal": "localdir",
                        "mountdocker": "/var/www/html/",
                        "ports": "9090:80",
                        "overridesubdomain": "reports"
                    },
                    "syncoc": {
                        "tag": "latest",
                        "image": "dockerpriv.kybot.io:5002/keithyau/tomcatsparkpadglusternewrelic",
                        "mountlocal": "multipledir",
                        "mountdocker": [
                            "/home/ec2-user/tools/drupal_dir/syncoc:/usr/local/tomcat/webapps",
                            "/etc/localtime:/etc/localtime:ro"
                        ],
                        "ports": "9091:8080"
                    },
                    "wmserver": {
                        "tag": "latest",
                        "image": "dockerpriv.kybot.io:5002/keithyau/tomcatsparkpadglusternewrelic",
                        "mountlocal": "multipledir",
                        "mountdocker": [
                            "/home/ec2-user/tools/drupal_dir/wmserver:/usr/local/tomcat/webapps/ROOT",
                            "/etc/localtime:/etc/localtime:ro",
                            "/bin/vi:/bin/vi"
                        ],
                        "ports": "9092:8080",
                        "overridesubdomain": "takeaway-wm.gtdx"
                    },
                    "bootproxy": {
                        "tag": "stable-alpine",
                        "image": "daocloud.io/library/nginx",
                        "mountlocal": "localdir",
                        "mountdocker": "/etc/nginx/conf.d/",
                        "ports": [
                            "80:80",
                            "8080:8080"
                        ]
                    }
                }
            }
        },
        "override_attributes": {},
        "chef_type": "role",
        "run_list": [
            "recipe[git]",
            "recipe[build-essential]",
            "recipe[basicservice]",
            "recipe[deploycode]",
            "recipe[drupalsetting]",
            "recipe[webserver]"
        ],
        "env_run_lists": {}
    }
}
