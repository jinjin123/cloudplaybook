{
  "name": "chefclient-sparkpad-gfsdrupal-prod-redisphp",
  "description": "Role json file for starting and maintaining Sparkpad ZKF drupal backend",
  "json_class": "Chef::Role",
  "default_attributes": {
    "deployuser": "root",
    "projectname": "cache",
    "docker": {
      "privaterepo": "dockerpriv.kybot.io:5002",
      "username": "keithyau",
      "password": "thomas123"
    },
    "deploycode": {
      "basedirectory": "/app/caching/",
      "configuration":{
        "general" : {
          "redis-de":{
            "redis.default.conf": "/usr/local/etc/redis/redis.conf"
          },
          "redis-cc":{
            "redis.default.conf": "/usr/local/etc/redis/redis.conf"
          }
        }
      },
      "localfolder": {
        "redis-de": "nodownload",
        "redis-cc": "nodownload",
        "memcached-de": "nodownload",
        "memcached-general": "nodownload",
        "redis-php": {
          "giturl":"git@git.coding.net:chankongching/php-redis-admin.git",
          "branch": "master"
        }
      },
      "runtime": {
        "redis-de": {
          "tag": "latest",
          "image": "redis",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/app/redis-data:/var/lib/redis"
          ],
          "ports": "6380:6379"
        },
        "redis-cc": {
          "tag": "latest",
          "image": "redis",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/app/cc-redis-data:/var/lib/redis"
          ],
          "ports": "6378:6379"
        },
        "memcached-de": {
          "tag": "latest",
          "image": "memcached",
          "ports": "11212:11211"
        },
        "memcached-general": {
          "tag": "latest",
          "image": "memcached",
          "ports": "11211:11211"
        },
        "redis-php": {
          "tag": "7.0.17_v4",
          "image": "dockerpriv.kybot.io:5002/keithyau/drupalnginxphp7shanghai",
          "mountlocal": "localdir",
          "mountdocker": "/var/www/html",
          "ports": "9100:80"
        }
      }
    }
  },
  "override_attributes": {},
  "chef_type": "role",
  "run_list": [
    "recipe[git]",
    "recipe[build-essential]",
    "recipe[basicservice]",
    "recipe[deploycode]",
    "recipe[configs]",
    "recipe[webserver]"
  ],
  "env_run_lists": {}
}
