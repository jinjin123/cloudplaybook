{
  "name": "chefclient-sparkpad-passmanage",
  "description": "Role json file for starting and maintaining for yedian backend",
  "json_class": "Chef::Role",
  "default_attributes": {
    "deployuser": "root",
    "deploygroup": "root",
    "projectname": "sparkpad",
    "externalmode": "bootproxy",
    "domainname": "sparkpos.cn",
    "docker": {
      "privaterepo": "dockerpriv.kybot.io:5002",
      "username": "keithyau",
      "password": "thomas123"
    },
    "deploycode": {
      "basedirectory": "/home/sparkpad/code/credentials/",
      "configuration": {
        "bootproxy": {
          "tv.bootproxy.nginx.conf": "/etc/nginx/nginx.conf"
        }
      },
      "localfolder": {
        "credentials": {
          "giturl": "git@git.coding.net:hacker_U/password.git",
          "branch": "master"
        }
      },
      "runtime": {
        "credentials": {
          "tag": "7.0.17_v4",
          "image": "dockerpriv.kybot.io:5002/keithyau/drupalnginxphp7shanghai",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/sparkpad/code/credentials/credentials:/var/www/html",
            "/home/sparkpad/code/credentials/credentials/simplevault:/var/lib/simplevault"
          ],
          "exec": "touch /var/lib/simplevault/simplevault.txt;  chown www. -R /var/lib/simplevault",
          "ports": "6089:80"
        }
      },
      "bootproxy": {
        "tag": "stable-alpine",
        "image": "daocloud.io/library/nginx",
        "mountlocal": "localdir",
        "mountdocker": "/etc/nginx/conf.d/",
        "ports": [
          "80:80"
        ]
      }
    }
  },
  "override_attributes": {},
  "chef_type": "role",
  "run_list": [
    "recipe[git]",
    "recipe[build-essential]",
    "recipe[basicservice]",
    "recipe[deploycode]",
    "recipe[configs]",
    "recipe[webserver]"
  ],
  "env_run_lists": {

  }
}
