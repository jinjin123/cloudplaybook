{
  "name": "chefclient-yedian-testnode",
  "description": "Role json file for starting and maintaining for yedian backend",
  "json_class": "Chef::Role",
    "deployuser": "azureuser",
    "projectname": "staging-yedian",
    "externalmode": "bootproxy",
    "domainname": "chinacloudapp.cn",
    "docker": {
      "privaterepo": "dockerpriv.shadowdock.com",
      "username": "keithyau",
      "password": "thomas123"
    },
    "deploycode": {
      "basedirectory": "/home/azureuser/web",
      "configuration":{
        "general" : {
          "staging_web" : {
            "yd-staging-web": "/etc/nginx/nginx.conf"
          },
          "staging_api" : {
            "yd-staging-api": "/etc/nginx/nginx.conf"
          }
        }
      },
      "localfolder": {
        "cms_web": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_CMS_frontend.git",
          "branch": "master"
        },
        "operator_web": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_Operator_frontend.git",
          "branch": "master"
        },
        "Merchant_web": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_Merchant_WebApp_Frontend.git",
          "branch": "master"
        },
        "cms_api": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_CMS_backend.git",
          "branch": "master"
        },
        "ktv_api": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_KTV_Core_Backend.git",
          "branch": "master"
        },
        "operator_api": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_Operator_Core.git",
          "branch": "master"
        },
        "payment_api": {
          "giturl":"git@github.com-payment:ab-inbev/APAC_Yedian_Payment.git",
          "branch": "master"
        },
        "message_api": {
          "giturl":"git@github.com:airplake/message-distributing-center.git",
          "branch": "master"
        },
        "auditing_api": {
          "giturl":"git@github.com-auditing:ab-inbev/APAC_Yedian_Auditing.git",
          "branch": "master"
        },
        "venues_api": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_Venues_Core.git",
          "branch": "master"
        },
        "user_api": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_User_Core.git",
          "branch": "master"
        },
        "compliance_api": {
          "giturl":"git@github.com:ab-inbev/APAC-Yedian-Compliance-Center.git",
          "branch": "master"
        },
        "bootproxy":"nodownload"
      },
      "runtime": {
        "staging_web": {
          "tag": "stable-alpine",
          "image": "daocloud.io/library/nginx",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web:/var/www"
          ],
          "ports": "90:90",
          "network_mode": "host"
        },
        "staging_api": {
          "tag": "stable-alpine",
          "image": "daocloud.io/library/nginx",
          "mountlocal": "localdir",
          "mountdocker": "/etc/nginx",
          "ports": "100:100",
          "network_mode": "host"
        },
        "staging_ktv": {
          "tag": "latest",
          "image": "dockerpriv.shadowdock.com/keithyau/ydnode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/ktv_api:/var/www"
          ],
          "ports": "3000:3000",
          "network_mode": "host"
        },
        "staging_cms": {
          "tag": "latest",
          "image": "dockerpriv.shadowdock.com/keithyau/ydnode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/cms_api:/var/www"
          ],
          "ports": "3008:3008",
          "network_mode": "host"
        }
      }
  },
  "override_attributes": {},
  "chef_type": "role",
  "run_list": [
    "recipe[git]",
    "recipe[build-essential]",
    "recipe[basicservice]",
    "recipe[deploycode]",
    "recipe[configs]",
    "recipe[webserver]"
  ],
  "env_run_lists": {}
}
