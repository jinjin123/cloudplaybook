{
  "name": "chefclient-yedian-testnode",
  "description": "Role json file for starting and maintaining for yedian backend",
  "json_class": "Chef::Role",
    "deployuser": "azureuser",
    "projectname": "staging-yedian",
    "externalmode": "bootproxy",
    "domainname": "chinacloudapp.cn",
    "docker": {
      "privaterepo": "dockerpriv.shadowdock.com",
      "username": "keithyau",
      "password": "thomas123"
    },
    "deploycode": {
      "basedirectory": "/home/azureuser/web",
      "configuration":{
        "general" : {
          "staging_web" : {
            "yd-staging-web": "/etc/nginx/nginx.conf"
          },
          "staging_backend" : {
            "yd-staging-backend": "/etc/nginx/nginx.conf"
          }
        }
      },
      "localfolder": {
        "cms_web": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_CMS_frontend.git",
          "branch": "master"
        },
        "operator_web": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_Operator_frontend.git",
          "branch": "master"
        },
        "Merchant_web": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_Merchant_WebApp_Frontend.git",
          "branch": "master"
        },
        "cms_backend": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_CMS_backend.git",
          "branch": "master"
        },
        "ktv_backend": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_KTV_Core_Backend.git",
          "branch": "master"
        },
        "operator_backend": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_Operator_Core.git",
          "branch": "master"
        },
        "operator_div_backend": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_Operator_Core.git",
          "branch": "development_new"
        },
        "payment_backend": {
          "giturl":"git@github.com-payment:ab-inbev/APAC_Yedian_Payment.git",
          "branch": "master"
        },
        "message_backend": {
          "giturl":"git@github.com:airplake/message-distributing-center.git",
          "branch": "master"
        },
        "auditing_backend": {
          "giturl":"git@github.com-auditing:ab-inbev/APAC_Yedian_Auditing.git",
          "branch": "master"
        },
        "venues_backend": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_Venues_Core.git",
          "branch": "master"
        },
        "user_backend": {
          "giturl":"git@github.com:ab-inbev/APAC_Yedian_User_Core.git",
          "branch": "master"
        },
        "compliance_backend": {
          "giturl":"git@github.com:ab-inbev/APAC-Yedian-Compliance-Center.git",
          "branch": "master"
        },
        "bootproxy":"nodownload"
      },
      "runtime": {
        "staging_web": {
          "tag": "stable-alpine",
          "image": "daocloud.io/library/nginx",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/Merchant_web:/var/www/Merchant_web",
            "/home/azureuser/web/operator_web:/var/www/operator_web",
            "/home/azureuser/web/cms_web:/var/www/cms_web"
          ],
          "ports": "90:90",
          "network_mode": "host"
        },
        "staging_backend": {
          "tag": "stable-alpine",
          "image": "daocloud.io/library/nginx",
          "mountlocal": "localdir",
          "mountdocker": "/etc/nginx",
          "ports": "100:100",
          "network_mode": "host"
        },
        "staging_ktv": {
          "tag": "v7.8.0",
          "image": "dockerpriv.shadowdock.com/keithyau/yediannode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/ktv_backend:/var/www/ktv_backend"
          ],
          "ports": "3000:3000",
          "network_mode": "host"
        },
        "staging_compliance": {
          "tag": "v7.8.0",
          "image": "dockerpriv.shadowdock.com/keithyau/yediannode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/compliance_backend:/var/www/compliance_backend"
          ],
          "ports": "3003:3003",
          "network_mode": "host"
        },
        "staging_cms": {
          "tag": "v7.8.0",
          "image": "dockerpriv.shadowdock.com/keithyau/yediannode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/cms_backend:/var/www/cms_backend"
          ],
          "ports": "3008:3008",
          "network_mode": "host"
        },
        "staging_user": {
          "tag": "v7.8.0",
          "image": "dockerpriv.shadowdock.com/keithyau/yediannode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/user_backend:/var/www/user_backend"
          ],
          "ports": "3009:3009",
          "network_mode": "host"
        },
        "staging_venues": {
          "tag": "v7.8.0",
          "image": "dockerpriv.shadowdock.com/keithyau/yediannode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/venues_backend:/var/www/venues_backend"
          ],
          "ports": "3007:3007",
          "network_mode": "host"
        },
        "staging_auditing": {
          "tag": "v7.8.0",
          "image": "dockerpriv.shadowdock.com/keithyau/yediannode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/auditing_backend:/var/www/auditing_backend"
          ],
          "ports": "3019:3019",
          "network_mode": "host"
        },
        "staging_payment": {
          "tag": "v7.8.0",
          "image": "dockerpriv.shadowdock.com/keithyau/yediannode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/payment_backend:/var/www/payment_backend"
          ],
          "ports": "3018:3018",
          "network_mode": "host"
        },
        "staging_operator_core": {
          "tag": "v7.8.0_v1",
          "image": "dockerpriv.shadowdock.com/keithyau/yediannode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/operator_backend:/var/www/operator_backend"
          ],
          "ports": "4000:4000",
          "network_mode": "host"
        },
        "staging_operator_core_div": {
          "tag": "v7.8.0",
          "image": "dockerpriv.shadowdock.com/keithyau/yediannode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/operator_backend:/var/www/operator_backend"
          ],
          "ports": "4003:4003",
          "network_mode": "host"
        },
        "staging_message_server": {
          "tag": "v7.8.0_v1",
          "image": "dockerpriv.shadowdock.com/keithyau/yediannode",
          "mountlocal": "multipledir",
          "mountdocker": [
            "/home/azureuser/web/message_backend:/var/www/message_backend"
          ],
          "ports": "3001:3001",
          "network_mode": "host"
        }
      }
  },
  "override_attributes": {},
  "chef_type": "role",
  "run_list": [
    "recipe[git]",
    "recipe[build-essential]",
    "recipe[basicservice]",
    "recipe[deploycode]",
    "recipe[configs]",
    "recipe[webserver]"
  ],
  "env_run_lists": {}
}
