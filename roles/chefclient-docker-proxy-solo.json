{
   "name":"chefclient-docker-proxy-solo",
   "description":"",
   "json_class":"Chef::Role",
   "default_attributes":{
      "deployuser":"root",
      "externalmode":"bootproxy",
      "projectname":"sparkpadgp",
      "docker": {
        "privaterepo":"dockerpriv.kybot.io:5002",
        "username":"keithyau",
        "password":"thomas123"
      },
      "domainname":"liansuola.com",
      "domainprefix":"dev-",
      "deploycode":{
         "basedirectory":"/home/keithyau/tools/drupal_dir/",
         "default":{
            "variables":{
               "dbuser":"root",
               "dbpass":"thomas123",
               "dbhost":"sparkpadgp_mysql"
            }
         },
         "configuration":{
            "de":{
               "folders":{
                  "sites/default/files":"777"
               },
               "settings":{
                  "de.settings.php":"sites/default/settings.php"
               },
               "variables":{
                  "dbusername":"root",
                  "dbpassword":"thomas123",
                  "dbhost":"sparkpadgp_mysql"
               }
            },
            "erp":{
               "folders":{
                  "sites/default/files":"777"
               },
               "settings":{
                  "erp.settings.php":"sites/default/settings.php"
               }
            },
            "crm":{
               "folders":{
                  "sites/default/files":"777"
               },
               "settings":{
                  "crm.settings.php":"sites/default/settings.php"
               }
            },
            "pmt":{
               "folders":{
                  "sites/default/files":"777"
               },
               "settings":{
                  "pmt.settings.php":"sites/default/settings.php"
               }
            },
            "mkt":{
               "folders":{
                  "sites/default/files":"777"
               },
               "settings":{
                  "mkt.settings.php":"sites/default/settings.php"
               }
            },
            "reportingsys":{
               "folders":{
                  "bootstrap/cache":"777",
                  "storage":"777"
               },
               "settings":{
                  "reportingsys.env":".env",
                  "reportingsys.externa_connection_db.php":"config/externa_connection_db.php"
               }
            },
            "mq":{
               "folders":{
                  "zkfmq/src/":"777"
               },
               "settings":{
                  "mq.zkf.cfg":"zkfmq/src/zkf.cfg"
               }
            }
         },
         "localfolder":{
            "mysql":"nodownload",
            "de":{
               "giturl":"https://keithyau:thomas@git.coding.net/keithyau/sparkpad-drupal-backend-de.git",
               "branch":"master"
            },
            "erp":{
               "giturl":"https://keithyau:thomas@git.coding.net/keithyau/sparkpad-drupal-backend-erp.git",
               "branch":"master"
            },
            "crm":{
               "giturl":"https://keithyau:thomas@git.coding.net/keithyau/sparkpad-drupal-backend-crm.git",
               "branch":"master"
            },
            "pmt":{
               "giturl":"https://keithyau:thomas@git.coding.net/keithyau/sparkpad-drupal-backend-pmt.git",
               "branch":"master"
            },
            "mkt":{
               "giturl":"https://keithyau:thomas@git.coding.net/keithyau/sparkpad-drupal-backend-mkt.git",
               "branch":"master"
            },
            "oc":{
               "giturl":"https://keithyau:thomas@git.coding.net/keithyau/deploymentoc.git",
               "branch":"dev"
            },
            "orderserver":{
               "giturl":"https://keithyau:thomas@git.coding.net/keithyau/orderserver.git",
               "branch":"dev"
            },
            "wmserver":{
               "giturl":"https://keithyau:thomas@git.coding.net/keithyau/WMServer.git",
               "branch":"dev"
            },
            "reportingsys":{
               "giturl":"https://keithyau:thomas@git.coding.net/chankongching/reports.git",
               "branch":"master"
            },
            "syncoc":{
               "giturl":"https://keithyau:thomas@git.coding.net/keithyau/syncoc.git",
               "branch":"master"
            },
            "rmq":"nodownload",
            "mq":"nodownload",
            "bootproxy":"nodownload"
         },
         "runtime":{
            "mysql":{
               "tag":"latest",
               "image":"mysql",
               "mountlocal":"localdir",
               "mountdocker":"/var/lib/mysql",
               "env":"MYSQL_ROOT_PASSWORD=thomas123",
               "ports":[
                  "3306:3306"
               ]
            },
            "de":{
               "tag":"7",
               "image":"drupal",
               "mountlocal":"localdir",
               "mountdocker":"/var/www/html",
               "proxyport":"80",
               "ports":[
                  "9081:80"
               ]
            },
            "erp":{
               "tag":"7",
               "image":"drupal",
               "mountlocal":"localdir",
               "mountdocker":"/var/www/html",
               "proxyport":"80",
               "ports":[
                  "9082:80"
               ]
            },
            "crm":{
               "tag":"7",
               "image":"drupal",
               "mountlocal":"localdir",
               "mountdocker":"/var/www/html",
               "proxyport":"80",
               "ports":[
                  "9083:80"
               ]
            },
            "pmt":{
               "tag":"7",
               "image":"drupal",
               "mountlocal":"localdir",
               "mountdocker":"/var/www/html",
               "proxyport":"80",
               "ports":[
                  "9084:80"
               ]
            },
            "mkt":{
               "tag":"7",
               "image":"drupal",
               "mountlocal":"localdir",
               "mountdocker":"/var/www/html",
               "proxyport":"80",
               "ports":[
                  "9085:80"
               ]
            },
            "oc":{
               "tag":"latest",
               "image":"tomcat",
               "mountlocal":"localdir",
               "mountdocker":"/usr/local/tomcat/webapps",
               "proxyport":"8080",
               "ports":[
                  "9086:8080"
               ]
            },
            "orderserver":{
               "tag":"latest",
               "image":"tomcat",
               "mountlocal":"localdir",
               "mountdocker":"/usr/local/tomcat/webapps",
               "proxyport":"8080",
               "ports":[
                  "9087:8080"
               ]
            },
            "wmserver":{
               "tag":"latest",
               "image":"tomcat",
               "mountlocal":"localdir",
               "mountdocker":"/usr/local/tomcat/webapps",
               "proxyport":"8080",
               "ports":[
                  "9088:8080"
               ]
            },
            "rmq":{
               "tag":"3-management",
               "image":"rabbitmq",
               "mountlocal":"localdir",
               "mountdocker":"/var/lib/rabbitmq",
               "proxyport":"15672",
               "ports":[
                  "4369:4369",
                  "5672:5672",
                  "5671:5671",
                  "15672:15672",
                  "8082:8082"
               ]
            },
            "mq":{
               "tag":"latest",
               "image":"dockerpriv.kybot.io:5001/keithyau/app_mq",
               "proxyport":"8088",
               "networkmode":"host",
               "mountlocal":"/home/keithyau/tools/drupal_dir/mq/zkfmq/src/zkf.cfg",
               "mountdocker":"/zkfmq/_rel/zkfpos_release/zkf.cfg",
               "ports":[
                  "8088:8088"
               ]
            },
            "reportingsys":{
               "tag":"latest",
               "image":"dockerpriv.kybot.io:5001/keithyau/laravelnewrelic",
               "mountlocal":"localdir",
               "mountdocker":"/var/www/html/",
               "proxyport":"9089",
               "ports":[
                  "9089:80"
               ]
            },
            "syncoc":{
               "tag":"latest",
               "image":"tomcat",
               "mountlocal":"localdir",
               "mountdocker":"/usr/local/tomcat/webapps",
               "proxyport":"8080",
               "ports":[
                  "9090:8080"
               ]
            },
            "bootproxy":{
               "tag":"latest",
               "image":"nginx",
               "mountlocal":"localdir",
               "mountdocker":"/etc/nginx/conf.d/",
               "ports":[
                  "80:80"
               ]
            }
         }
      }
   },
   "override_attributes":{

   },
   "chef_type":"role",
   "run_list":[
      "recipe[git]",
      "recipe[build-essential]",
      "recipe[basicservice]",
      "recipe[glusterfs]",
      "recipe[diskmount]",
      "recipe[webserver]",
      "recipe[deploycode]",
      "recipe[drupalsetting]"
   ],
   "env_run_lists":{

   }
}
