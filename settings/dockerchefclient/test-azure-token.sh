#!/bin/bash

./runchefclientdocker.sh kgtest3 '
{ "deploycode": { "basedirectory": "/root/tools/code/", "configuration": { "azure": { "scheme": "", "action": "create", "credentials": { "token": [ {"tokenType":"Bearer","expiresIn":3599,"expiresOn":"2017-07-04T10:11:17.148","resource":"https://management.core.chinacloudapi.cn/","accessToken":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Im0yZmFQUUZkQzFEVGRmWU1pb09kaHdSblFUMCIsImtpZCI6Im0yZmFQUUZkQzFEVGRmWU1pb09kaHdSblFUMCJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS5jaGluYWNsb3VkYXBpLmNuLyIsImlzcyI6Imh0dHBzOi8vc3RzLmNoaW5hY2xvdWRhcGkuY24vNDQyMDEwNDAtOTY2Ny00NDYyLTgzYjktZmZhZTdkZDdhZjE2LyIsImlhdCI6MTQ5OTE1OTE3NywibmJmIjoxNDk5MTU5MTc3LCJleHAiOjE0OTkxNjMwNzcsImFjciI6IjEiLCJhaW8iOiJZMkJnWU5obGNPOGJZM0QyalhlbTFyVnpxdFN1YjZzOFlKMnBJMTJac0RiY2NnNmY2SDRBIiwiYW1yIjpbInB3ZCJdLCJhcHBpZCI6ImY5ZTEyZGUwLTkyZWMtNDQ0ZC1iMDg2LWJlYWM1YTc3ODM5YiIsImFwcGlkYWNyIjoiMSIsImVfZXhwIjoyNjI4MDAsImZhbWlseV9uYW1lIjoi5YiYIiwiZ2l2ZW5fbmFtZSI6IuWHr-atjCIsImdyb3VwcyI6WyI5ZjMzYThmOS04MDBkLTRiZWItYjJjYS0xOGQ4MmEwODViZmQiXSwiaXBhZGRyIjoiNDcuOTAuNDEuMTI5IiwibmFtZSI6IuWImOWHr-atjCIsIm9pZCI6IjRkZTZjYTQ4LTFkMGEtNDc2My1iODEwLTFjMmUxYTljNjY1NSIsInBsYXRmIjoiNSIsInB1aWQiOiIyMDAzQkZGRDgxM0YzQzBFIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiMzJnNUFabW0wWkJTZDRobnctczNnbjRycmItblZBLWJmd2JSbTI4V3NKUSIsInRpZCI6IjQ0MjAxMDQwLTk2NjctNDQ2Mi04M2I5LWZmYWU3ZGQ3YWYxNiIsInVuaXF1ZV9uYW1lIjoia2FpZ2UubGl1QGt5Y2xvdWQucGFydG5lci5vbm1zY2hpbmEuY24iLCJ1cG4iOiJrYWlnZS5saXVAa3ljbG91ZC5wYXJ0bmVyLm9ubXNjaGluYS5jbiIsInZlciI6IjEuMCJ9.EVUuTvOIzrIE6wFkKjEIQID6XRlXzWPzmUNTaheofo1zKlQ1KOlM3e2N7UN58yE8bfXbNOp435rs2WhEz054tF99-wogmd77h-RdPAP5Ah_57Y5ErvsZwuh5euYjnWPUmZOiWN-xaPyeWbWBgXUDqPrIcJOct1KYiYhNaeElMSUGeBf9lIwCvYKMWzG-BOD65TdHZP9hDRzHcpxJD1jA48r5LgrwZIu0dzUDoThDtnag26djPM8XPYYaTtdqVa9VUSn6pN5yki_P7-3xRYVkCDauH0_YvaTm3zJh3PCA0-ftZ7bHcY_21ikQp-LSho75mR88ULQSpaQoMR_ICwoHDg","refreshToken":"AQABAAAAAACrHKvrx7G2SaZbZh-tDnp79_lnQb5TGyXvUPnNsIuNhOx-K1lt1dbaAd0PGJAE8NbLntgO49cE0RWjVA4wfHKuO17liqqqAa8I5ZN7pehC3JMZtyZD6-wq6KbstLHMaY0C-z3RM_krcRkqV7IPLdLsPAZSY3uRGfB2ZcSoIuduXgByj6V12jXmdwvOGvFWHL8hTYIaFWoXp1RXB1Hy0QAA-O5TANYCwdC2Ej1wzc8MNpKGkX4KMp3_4_YPBbgEYEy-w-vXdy-d-2GbPm7WWJtMnAlg9Md-uTC01YJTp2bP3zBtzNCkR1iTrd-tlWX-eQrvudAp6XQIdzpZrGl0WnqXBZNNWG8cK0ulwpLqZzfp_JfdaSDpd4wrMlTYcQrhk3aTmYKZZD9CBs7vZDBfw9TniTD5FxEBZeIlIbuu9OpSKa_dXFrK2I_vglgRc0CnPh3sa9PQJ624NGTDQhFsY2JfgNw8dAaNw4rI9S6lLQJs4Ey6T-BMZq9CurtUvK2R1Rc9jBnttCjax6s5kFFalS05nrz5IHfr0Tj2oU_RrbFytlMZWY2Cu1mvIEahfSXDGTJrCdyWE9Y2l3PTc0-jxIJvcHi7HUDVVcsxhaVOmtoZXg7R7u_az4n1iNujq35QNV_ZiTEDSdnFH3qXtTjbQl4meOwN6y8k6gBHKf0tBPSTZKzCTthezwCD0b-eeSpf6rvP27xbJ-WKWxTEv_eCag17VvP4ByRNcB3oLDYI1J9h3VfBkx7vpHT1A4whQnmgWKyvepCESBCirHwV-MVciN8sIAA","userId":"kaige.liu@kycloud.partner.onmschina.cn","oid":"4de6ca48-1d0a-4763-b810-1c2e1a9c6655","_clientId":"04b07795-8ddb-461a-bbee-02f9e1bf7b46","_authority":"https://login.chinacloudapi.cn/common","tenantId":"44201040-9667-4462-83b9-ffae7dd7af16","mrrt":true,"isMRRT":true}, {"tokenType":"Bearer","expiresIn":3599,"expiresOn":"2017-07-04T10:11:17.430","resource":"https://management.core.chinacloudapi.cn/","accessToken":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Im0yZmFQUUZkQzFEVGRmWU1pb09kaHdSblFUMCIsImtpZCI6Im0yZmFQUUZkQzFEVGRmWU1pb09kaHdSblFUMCJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS5jaGluYWNsb3VkYXBpLmNuLyIsImlzcyI6Imh0dHBzOi8vc3RzLmNoaW5hY2xvdWRhcGkuY24vNDQyMDEwNDAtOTY2Ny00NDYyLTgzYjktZmZhZTdkZDdhZjE2LyIsImlhdCI6MTQ5OTE1OTE3NywibmJmIjoxNDk5MTU5MTc3LCJleHAiOjE0OTkxNjMwNzcsImFjciI6IjEiLCJhaW8iOiJZMkJnWUNpejVuYjJteWk3VlRWMnVvMXA2WTZ5WnkydG5yZE9MeGZ2bWM0UXp4VE5keEFBIiwiYW1yIjpbInB3ZCJdLCJhcHBpZCI6ImY5ZTEyZGUwLTkyZWMtNDQ0ZC1iMDg2LWJlYWM1YTc3ODM5YiIsImFwcGlkYWNyIjoiMSIsImVfZXhwIjoyNjI4MDAsImZhbWlseV9uYW1lIjoi5YiYIiwiZ2l2ZW5fbmFtZSI6IuWHr-atjCIsImdyb3VwcyI6WyI5ZjMzYThmOS04MDBkLTRiZWItYjJjYS0xOGQ4MmEwODViZmQiXSwiaXBhZGRyIjoiNDcuOTAuNDEuMTI5IiwibmFtZSI6IuWImOWHr-atjCIsIm9pZCI6IjRkZTZjYTQ4LTFkMGEtNDc2My1iODEwLTFjMmUxYTljNjY1NSIsInBsYXRmIjoiNSIsInB1aWQiOiIyMDAzQkZGRDgxM0YzQzBFIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiMzJnNUFabW0wWkJTZDRobnctczNnbjRycmItblZBLWJmd2JSbTI4V3NKUSIsInRpZCI6IjQ0MjAxMDQwLTk2NjctNDQ2Mi04M2I5LWZmYWU3ZGQ3YWYxNiIsInVuaXF1ZV9uYW1lIjoia2FpZ2UubGl1QGt5Y2xvdWQucGFydG5lci5vbm1zY2hpbmEuY24iLCJ1cG4iOiJrYWlnZS5saXVAa3ljbG91ZC5wYXJ0bmVyLm9ubXNjaGluYS5jbiIsInZlciI6IjEuMCJ9.Eic3QfPc4naUhcLjeJMSQNzn7FWXCM69IQt0Fmhwr3APt3FQejEVil2WQv5l9da1rv3wK8jporU6tjzEIaS-KGn35gMWib1olO0HHldThHFnr9oSTsNEWbjwMPvMfNz6WwET__o3O3Xwr-9OHssYVwlcJZA8PY9jo947z4OoC00t4GbwBHHYQcE5dAcUm0YdbJtbXGwfUSqoYL0jZ5sLdfOHO88_CbeVQ2ngB8KVEaNcQmR322DBnDmhYnSV-e_1MXe7fNDjS0w0ZgFMOIrxLmWSKRXD3kxBnUcAaUvT2DCXeYxw9KUqdeevO_j2kARHMmtT6xdZ8EitGBmjGzUz7g","refreshToken":"AQABAAAAAACrHKvrx7G2SaZbZh-tDnp7O1b2zsituiwSO4HWPYKPx7YX0g2v6VHIur8kqrJmnPzA_U6h5q3hoKyeJYyxplodgKfrHHKFg25q1iNfQFweDE_wnIN6r2p32o_o0-s1AFv3i0weMLXd2tXWl90iZSS3t_SVJkaykLdakOlAlhy9QpMx_6-W5sxUQdvEy27S-zOIgYxxjx8zV0uG7jgCNMU2oRGSa4ftEJEF1hjSp2LD3Xu0CeFDb-S65NZfli7lXFJ2a4EoMCF0YnHKkn_kbmIjvAi1KmyWp5Cae8Nu1anOZN0g2AcuYjNRYtrbp0b5zROaLn_kFGsuiPOsYUHQLw7oV9p22_3m2VSJVCdYV4PZrCTsQ9AdAs1E5L3wanAcC_ZKPptk75eSD1VzF4JW1kZHtW5X14XeJrk56SIC1kyaqe-he2keVCWRsJ_z6bKhA0l4VitkjSUmETNybV0nrhTMrW6hwNrMs8IKmxrMAtlXFYLySEIIdJLiBXEmd2tu5tLEnL2YIrFU1B1ewTe2lp8Cb4aQS_s0efJ2nAuh_vu5WcL37aDiOPtlwC2YFvHrr1XHLTJ5BFVUi4NQPI4d-0Vjtz5PXYdanCBdnHGeRaq9ieN26Zqbzm7TL_Hy8lYkAmjAM5TzsmX4RyMk2XcJGzQ9hQ_MBU8ZY3JaD9U6Aysf3VKSRUkZ_QR9KxvvM04JlA--dCQG8cbxYHihvLZpDMHaENtYk8NQVDy0PJu5LTo8f83MazkXDYuQpNw-2GRo_yZdqmH1cgX0tZxtZ97j8JiHIAA","userId":"kaige.liu@kycloud.partner.onmschina.cn","oid":"4de6ca48-1d0a-4763-b810-1c2e1a9c6655","_clientId":"04b07795-8ddb-461a-bbee-02f9e1bf7b46","_authority":"https://login.chinacloudapi.cn/44201040-9667-4462-83b9-ffae7dd7af16","tenantId":"44201040-9667-4462-83b9-ffae7dd7af16","mrrt":true,"isMRRT":true} ], "profile": { "environments": [], "subscriptions": [ { "id": "64b57128-3cf9-4e29-8454-ce791c9d0945", "name": "Microsoft Azure Enterprise ???", "user": { "name": "kaige.liu@kycloud.partner.onmschina.cn", "type": "user" }, "tenantId": "44201040-9667-4462-83b9-ffae7dd7af16", "state": "Enabled", "isDefault": true, "registeredProviders": [], "environmentName": "AzureChinaCloud" } ] } }, "kylin": { "identifier": "singlekgtest3", "region": "chinanorth", "kaptoken": "", "cluster": true, "appType": "KAP", "clusterLoginUserName": "kylin", "clusterLoginPassword": "Admin@2017", "clusterName": "q03d92singlekgtest3", "clusterName2": "", "clusterType": "hbase", "clusterVersion": "3.5", "clusterWorkerNodeCount": 1, "storageAccount": "q03d92singlekgtest3sa", "storageAccount1": "", "storageAccount2": "", "containerName": "default", "edgeNodeSize": "Standard_D3", "metastoreName": "q03d92singlekgtest3", "sshUserName": "kylin", "sshPassword": "Admin@2017", "vnetName": "" } } }, "localfolder": { "azure-cli": "nodownload" }, "runtime": { "azure": { "tag": "latest", "image": "dockerpriv.kybot.io:5002/keithyau/azure-cli", "mountlocal": "localdir", "mountdocker": "/templates" } } } }
'
